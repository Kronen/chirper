<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:composite="http://java.sun.com/jsf/composite">

    <composite:interface>
    	<composite:attribute name="profile" />
    </composite:interface>

    <composite:implementation>

	<nav class="userMenu">
            <ul>
                <li class="userMenu-home #{view.viewId eq '/home/home.xhtml' ? 'current' : ''}"><p:link value="Home" href="/"/></li>
                <ui:fragment rendered="#{loginManager.userLoggedIn}">
                <li class="userMenu-profile #{view.viewId eq '/user/user-view.xhtml' ? 'current' : ''}"><p:link value="Profile" href="/user/#{user.userName}"/></li>
                </ui:fragment>
                
                <li class="userMenu-config">
                    <a class="userMenu-config-dropdown">
                        <p:panel styleClass="config-menu dialog-modal" rendered="#{loginManager.userLoggedIn}">
                            <p:panel styleClass="mini-profile-info selectable_theme theme_original">
                                <div class="mini-profile-photo">
                                    <h:graphicImage library="images" name="#{filesHandler.getAvatar(cc.attrs.profile)}" 
                                         alt="user-photo"/>
                                </div>
                                <p:link href="user/#{user.userName}" styleClass="mini-profile-name"
                                        value="#{cc.attrs.profile.fullName != null ? cc.attrs.profile.fullName : user.userName}"/>
                                <h:outputText styleClass="mini-profile-view" value="@#{user.userName}" />
                            </p:panel>
                            <h:form id="form-settings">
                                <a class="dropdown-menu-item uri-shortener">URI shortener</a>
                                <a class="dropdown-menu-item" href="options.html">Options</a>
                                <a class="dropdown-menu-item" href="#">view..iewId #{view.viewId}</a>
                                <a class="dropdown-menu-item" href="profile-edit.html">Setup account</a>
                                <a class="dropdown-menu-item dropdown-menu-following" href="#following">Following users</a>
                                <a class="dropdown-menu-item" href="login.html">Change user</a>
                                <a class="dropdown-menu-item promoted-posts-only" href="#">Switch to Promoted posts</a>
                                <a class="dropdown-menu-item direct-messages" href="#">Direct Messages</a>
                                <p:commandLink id="logout" value="Log Out" styleClass="dropdown-menu-item" ajax="false" 
                                    actionListener="#{loginManager.logout}" />
                            </h:form>
                        </p:panel>
                    </a>
                </li>
                <li class="userMenu-connections">
                    <a href="#">
                        <span class="messages-qtd" style="display:none;">0</span>
                    </a>
                </li>
                <li class="userMenu-messages">
                    <a href="#">
                        <span class="messages-qtd" style="display:none;">0</span>
                    </a>
                </li>
                <li class="userMenu-groupmessages">
                    <a href="#">
                        <span class="messages-qtd" style="display:none;">0</span>
                    </a>
                </li>
                <!-- BUSQUEDA -->
                <li class="userMenu-search">
                    <input type="text" class="userMenu-search-field" placeholder="search"/>
                    <div class="search-results dialog-modal">
                        <ul class="userMenu-search-sugestions" style="display: none;">
                            <li><a href="#">Sugestion One</a></li>
                            <li><a href="#">Sugestion Two</a></li>
                            <li><a href="#">Sugestion Three</a></li>
                        </ul>
                        <ul class="userMenu-search-profiles"></ul>
                    </div>
                </li>
            </ul>
        </nav>

    </composite:implementation>

</html>